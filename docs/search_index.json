[["index.html", "Analysis and Visualization of Bike Sharing Data in Washington D.C. Area Chapter 1 Introduction", " Analysis and Visualization of Bike Sharing Data in Washington D.C. Area Zhuoyue Hao Shihang Wang Yeqi Zhang 2021-04-12 Chapter 1 Introduction Bike Sharing System, different from traditional rentals, can process membership, rental and return back automatic. Now, over 10 years has passed since the generation of Bike Sharing system. According to “Report on the current situation of global and Chinese bike sharing market in 2020 and its future development trend”, there are 400 million registered users globally for Bike Sharing System, and the system has become a non-neglectable component in modern cities daily life. The report also figured out that the application scenarios of bike sharing tend to transition from commuting necessity to leisure, especially in some European countries such as Italy. In 2013, Hadi Fanaee-T and Joao Gama utilize the open access data of Capital Bikeshare System, which is still one of the most long-lived Bike Sharing system in the world, to predict sensing mobility in Washington D.C and therefore detect the important events in this city. Given the current situations provided above, it would be quite interesting to track whether this research still valid under different background, such as the transition trend of usage habit and especially with the disturbance of the major events, Covid-19. To conduct a comprehensive study, we collect the weather data and Capital Bikeshare’s data in Washington D.C from 2019 to 2020, and propose 3 major questions, which write as: Service Activation Transition Rate: does the Registered customer base of the Capital BikeShare increases during our monitored period (Casual-user to Registered-user)? Deciding-Factor Analysis: how does the factors of weather type (temperature, humidity, windspeed) and date (year, month, hour, weekday) affect the count of the bike-sharing rental? Events/Holiday Detection: can we detect important events and holiday trends in the city by looking at the bike-rental data? "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources Two data sources were introduced in this research, the first one was from the homepage of Capital Bikeshare, which includes the following variables (5539860 records, each record indicate one use of Capital Bikeshare in Washington D.C. during 2019 and 2020): Duration (Duration of trip), Start Date (Includes start date and time of the trip), End Date (Includes end date and time of the trip), Bike Number (Includes ID number of bike used for the trip), Member Type (Indicates whether user was a “registered” member or a “casual” rider), Season (Season type obtained from Start Date and End Date), Day Type (Weekday or Weekend Day obtained from Start Date and End Date). This data has been processed by Capital Bikeshare to remove trips that were taken by staff as they serviced and inspected the system, trips that were taken to/from any of our “test” stations at our warehouses and any trips lasting less than 60 seconds (potentially false starts or users trying to redock a bike to ensure it was secure). The other data source was from freemeteo.com, which provides detailed weather forecasts, real time weather observations, historical data for all regions of our planet. Here we collect weather records of Washington D.C in 2019 and 2020 to incorporate with the data collected from Capital Bikeshare. In accordance with our research objective, we include the following variables (731 samples, each sample indicate a day): date, min_temp (daily minimum temperature), max_temp (daily maximum temperature), max_steady_wind (maximum steady wind of the day), total_daily_precipitation (total daily precipitation), description (description of weather types, such as “rain”, “snowfall”, “thunderstorm”etc.). "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation The Capital Bikeshare data was collected by Zhuoyue Hao via “download.file” package. According to our research targets, we transform the data and redefined the variables as (731 samples, each sample indicate a day’s record) : date, year, month, weekday (day of the week), season (12-15 to 3-15 is defined as winter, 3-15 to 6-15 is defined as spring, 6-15 to 9-15 is defined as summer, 9-15 to 12-15 is defined as fall), registered (num of use by registered users by day), causul (num of use by causul users by day), total (num of use by registered and causul users by day) The weather data was collected by Yeqi Zhang via web crawler implementation, where the weather website was first downloaded by httr and GET function, and the table data was then extracted from the website by html_table function from rvest package. Then the two data sources are combined via “merge” package (by “date” variable). Note that the original weather data collected from freemeteo.com had 10 variables, the other variables were “maximum wind gust”, “snow depth”, “pressure”, “icon (of weather type)”. We abandon those variables for they are harder to be sensed by human beings (such as “pressure”) or less relevant to the questions we are studying, such as “maximum wind gust” and “snow depth”. The former one just indicated the weather condition of a particular moment, not the overall weather circumstance for the whole day, and the later one was just available in some particular days during the winter, while in most days of the year, there is no snow and of course, no “snow depth”. Besides, a few days of weather data from 2019 to 2020 were missing, for example, there was no data for 2020-12-30; therefore, the authors filled in the data of those missing days and marked their values as NAs. Please click the following link to check out the data transformation for the bike data: https://github.com/ZhuoyueHao/BikeSharing/blob/main/Data%20Transformation/Bike%20Data.Rmd Please click the following link to check out the data transformation for the weather data: https://github.com/ZhuoyueHao/BikeSharing/blob/main/Data%20Transformation/Weather%20Data.Rmd "],["missing-values.html", "Chapter 4 Missing values 4.1 Heatmap for the overall pattern 4.2 Visna() for the overall pattern", " Chapter 4 Missing values We would like to explore some meaningful patterns based on the distribution of missing values ie.NAs from our weather dataset. (Note: given a fact that our Bike datasets have no missing values, the weather dataset would be our sole data.table to analyze NAs.) Data table: dat.dt.RData Varibles of our concern: ‘min_temp’, ‘max_temp’, ‘max_steady_wind’, ‘total_daily_precipitation’, ‘description’ 4.1 Heatmap for the overall pattern Firstly, we would like to present an overall missing-value distribution of continuous days from 2019-01-01 to 2020-12-31 (total 731 days) and the plot shows: X : 6 most relevent variables Y: missing patterns (each day from 2019-01-01 to 2020-12-31) Vertically, variable ‘max_steady_wind’ has most missing values. Horizontally, missing values concentrate at the end of the year 2019 and year 2020 4.2 Visna() for the overall pattern Visna() is another method to explore the potential patterns of missing-value distribution of continuous days (731 days) X : 6 most relevent variables Y: missing patterns (each day from 2019-01-01 to 2020-12-31) Vertically, variable ‘max_steady_wind’ has the most missing values as it ranks number-one at the bottom column-sort. Horizontally, for missing values patterns, pattern ‘max_steady_wind’ took place most frequently up to 71 times, which means there are 71 rows of data with ‘max_steady_wind’ value missing as NA. The next pattern is ‘min_temp, max_temp, max_steady_wind, total_daily_precipitation, description’ with frequency 5 times, which means 5 rows of data miss values for all variables. The complete pattern-rank goes from top to bottom as the right row-sort shows. ## max_steady_wind min_temp max_temp total_daily_precipitation description ## 1 0 0 0 0 0 ## 3 1 0 0 0 0 ## 5 1 1 1 1 1 ## 4 0 1 1 0 0 ## 2 0 0 0 1 0 ## attr(,&quot;mar&quot;) ## attr(,&quot;mar&quot;)$rm ## [,1] ## [1,] 652 ## [2,] 71 ## [3,] 5 ## [4,] 2 ## [5,] 1 ## ## attr(,&quot;mar&quot;)$cm ## [,1] [,2] [,3] [,4] [,5] ## [1,] 0.1039672 0.009575923 0.009575923 0.008207934 0.006839945 ## ## attr(,&quot;orders&quot;) ## attr(,&quot;orders&quot;)[[1]] ## [1] 1 3 5 4 2 ## ## attr(,&quot;orders&quot;)[[2]] ## [1] 3 1 2 4 5 "],["results.html", "Chapter 5 Results 5.1 Service Activation Transition Rate 5.2 Deciding-Factor Analysis 5.3 Events/Holiday Detection", " Chapter 5 Results 5.1 Service Activation Transition Rate The figure shows that both registered and causul users use Capital Bikeshare most in 2019 summer and least in 2019 winter and 2020 winter , while the number of use by registered users is far higher than that by causul user. It indicates that during the cold days in winter, bike may not be people’s priority choice when going outside. Thus if they have to do so, such as commute, they would probably incline to registered since it is more economy preferable in consideration of long term and fixed usage frequency. And in warm days during the summer(2019), bike is quite popular and the number of used reach its peak then. Just as what indicated by the “Report on the current situation of global and Chinese bike sharing market in 2020 and its future development trend”, people may accidently (causul users) or mean to (registered users) use Capital Bikeshare service for leisure purpose during the warm days. However, this story changed in 2020, perhaps due to the influence of Covid-19, the number of used by registered users decrease sharply while the number of used by causul users increased significantly. The authors infer that due to the Covid-19, people rather to stay at home for most of the time and therefore, a large amount of registered users may quit their membership in Capital Bikeshare for the sake of economy (there are 3 types of membership for Capital Bikeshare, Annual Member, 30-Day Member and Day Key Member, each would charge a fixed fee), and become causul users when they have to go outside. The implication from this figure is aligned with what we obtained from the previous plot. And the proportion of causul users during the warm days of 2019 does increase (indicate more free and diversified use scenarios). Besides, the negative impact of Covid-19 is also quite obvious in this plot, it show that the number of used by both causul and registered users together is substantial lower compared with the same period in 2019 during summer and fall (also the worst period of covid-19). We also draw the heatmap according to proportion of causul users by day in 2019 and 2020. We notice that irrespective of the impact of Covid-19 or seasonal factors, causul users make up a higher proportion during the weekends, which make our discussion towards 2 previous plots more valid. That is, during the weekdays, a large proportion of users are registered users, who may apply Capital Bikeshare service for commute purpose. While during the weekends, people use them more casually, and perhaps exactly as what we have commented, for leisure use, just as the use scenarios that has been figured out in Italy. 5.2 Deciding-Factor Analysis We want to explore how total rental amount of bike-sharing relates to each variable. Since variables are not the same type, we would split them into quantitative varibles and qualitative varibles and analyze seperately. 5.2.1 Quantitative-Varible Analysis min_temp (daily minimum temperature); max_temp (daily maximum temperature); max_steady_wind (maximum steady wind of the day); total_daily_precipitation (total daily precipitation). Heatmap on the left shows such three main clusters/groups of bike-sharing rental amount as High rental amount, Low rental amount and Medium rental amount (from bottom to top). Accordingly, the right four scatterplots present how these three rental groups relate to each quantitative variables. Note that the transparency of data points represents the magnitude of total rental amount: the more total rental amount each point holds, the darker it will be. Based on the plots, it is clearly observed that: More bike-sharing activities took place when temperature was above 20 degrees Celsius (68 degrees Fahrenheit) and less people cycled when it was cold, especially when temperature was subzero. People prefer to rent and ride bicycles on non-rainy days with precipitation below 10mm. Noticeable, some users did enjoy rainy-cycling with precipitation above 20mm and few users even choose the service when it rained over 70mm. Non-windy days with 15-30 km/h wind usually attracted more users to the bike-sharing service. Indeed, some users would choose the service when it blew at over 50 km/h. 5.2.2 Qualitative-Varible Analysis Weekday (weekday of the date); Season; Description (weather type of the date). Based on the ridge-plots, we could observe that: Saturday and Sunday tend to attract more users to cycle, whose distributions center on higher total rental amount (over 10,000). Noticeably, Monday through Friday almost have the same distributions, which may imply users’ daily commuting necessity. Spring and Summer are users’ favorite seasons to engage in the bike-sharing activiteis while Fall attracted certain amount of users as well. Besides, there was a great variation in Spring’s total rental amount, which implies the distinctive year-on-year decline in 2020, i.e. the Covid-pandemic year. As expected, sunny days (Weather events not reported) are users’ top choices to ride bicycles while people cycled less on rainy and snowy days (Rain, Fograin, Snowfall, Snowfallrain). Surprisingly, thunderstrom days (ThunderstormRain and FogThunderstromRain) did not undermine people’s passion for bike-sharing and this phenomenon could be attributed to residents’ adaptation to frequent thunderstroms. Also, on thunderstorm days, for those who do not drive, cycling would become alternative commuting type to consider, given the shortage of ride-hailing vehicles due to increased demand. 5.3 Events/Holiday Detection By inspecting the graph, we can observe that 2019-03-30, 2019-04-06, 2020-06-06, and 2020-11-07 are the four days with most bike sharing rides over the past two years, and we will analyze those dates with information from the CNN news, the New York Times and other online sources. As we all know, Washington D.C. is famous for the cherry blossom near the Washington Monument, and people celebrate the National Cherry Blossom Festival every year from the last week of March into the first week of April. Unlike 2020, most of the people are not allowed to work from home or take a day off just to enjoy the bloom of the cherry blossom in 2019, so people are more likely to go together on the weekend. This explains why 2019-03-30 and 2019-04-06 are the two peak dates that people go out on street and take the bike sharing rides much more frequent than usual dates. According to the CNN and New York Times news reports on June 6, 2020, Washington D.C. was having a protest on the death of George Floyd. The Washington’s mayor had “Black Lives Matter” painted near the White House and lead the protest. It directly lead to the peak in bike sharing rides since lots of people participated in the event and they all need a solution for the transportation. The last peak day we observed from the past two years are November 7th, 2020. On November 7th, the Associated Press, Fox News, and the other major networks call Pennsylvania for Biden, thus putting him above the required 270 electoral votes to be named President-elect. Reacting to the news of Biden’s projected victory, his supporters celebrate in the streets of various cities across the country. At the same day, Trump proceeds with his legal challenges， and his supporters protest in various cities. As one of the crowded days in history, it’s reasonable that the bike sharing rides increase as a mean of transportation. "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component 2019-2020 Capital Bikeshare Daily Usage Trend all 2019 2020 registered casual total In 2019, most bike-sharing activities took place between March to October, in other words, between Spring to early Fall, among which Spring is the peak season users tend to engage in the bike-sharing, with daily average rental amount approching to 15,000. Under the impact of the pandemic, 2020 witnesssed a sharp decline of total rental amount and the trend tends to be more oscillating. Since May, the amount of registered users decreased while casual users increased. "],["conclusion.html", "Chapter 7 Conclusion 7.1 Limitations 7.2 Lessons Learned 7.3 Future Directions", " Chapter 7 Conclusion 7.1 Limitations Since the weather data fetched from freemeteo.com is a daily-based data set instead of an hourly-based records, we are not able to analyze and observe the trends in a more detailed scale. If possible, data set with date accurate to hour could be exploited and therefore, daily trend of bike-sharing service could be analyzed. There is another question that we really interested in but are not able to explore, due to the limitation of data provided by the Capital Bikeshare Company. We would like to see that on a person to person level if casual users become subscribed members throughout year 2019 to 2020. However, the Capital Bikeshare Company only provides identification numbers for trips rather than users, so for now there is no way for us to identify the users to a person to person base. 7.2 Lessons Learned By handling a data set with 5 million observations and 9 features, we learned how to clean and transform the extremely large data set and finally saved it as a data frame with 701 entries and 11 total columns. The whole algorithm takes about an hour to run each time, and therefore tells us how important it is to check all details after we make any changes. 7.3 Future Directions Using our methodology, a trend analysis of competitors operating in business model analogous with Capital Bikeshare could be conducted to explore the similarities and differences for further concerns. The bike sharing company could also explore distinctive characteristics or outliers implicit in dataset based on resulting plots, and conduct Attribution Analysis and provide the data-driven advises or strategies for future service improvement. "]]
